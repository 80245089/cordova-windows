<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Cordova_Metro</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.1.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.1.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.1.0/js/ui.js"></script>

	
    
    <!-- Cordova win8 references -->
    <link href="/css/default.css" rel="stylesheet" />
    <script src="/js/cordova.windows8.js"></script>
</head>
<body>
    <button id="btnStart" onclick="start()">Start</button>
    <button id="btnPlay" onclick="play()" disabled="disabled">Play</button>
    <button id="btnPause" onclick="pause()" disabled="disabled">Pause</button>
    <button id="btnStop" onclick="stop()" disabled="disabled">Stop</button>
    <button id="btnPosition" onclick="position()" disabled="disabled">Position</button>
    <p id="status"></p>
    <p id="duration"></p>
    <!--<p id="position"></p>-->
    <script type="text/javascript">

        function status(text) {
            status.innerText = text;
        };

        var media = null;
        var src = "/music/BlueZedEx.mp3";
        function start() {
            media = new Media(src,
                null,
                function () {
                    status("Error loading media.");
                },
                function () { }
            );
            //id('duration').innerHTML = 'Duration: ' + media.getDuration();
            status("Media started.");
            btnStart.disabled = 'disabled';
            btnPlay.disabled = false;
            btnStop.disabled = false;
            btnPosition.disabled = false;
        }
        function play() {
            media.play();
            btnPlay.disabled = 'disabled';
            btnPause.disabled = false;
            status("Media playing.");
        }
        function pause() {
            media.pause();
            btnPlay.disabled = false;
            btnPause.disabled = 'disabled';
            status("Media paused.");
        }
        function stop() {
            media.stop();
            btnPlay.disabled = 'disabled';
            btnPause.disabled = 'disabled';
            btnStart.disabled = false;
            btnStop.disabled = 'disabled';
            btnPosition.disabled = 'disabled';
            status("Media stopped.");
        }

        function position() {
            media.getCurrentPosition(
                function(p) {
                    position.innerText = 'Position: ' + p;
                },
                function(e) {
                    status('Error getting position: '+e);
                }
            )
        }
    </script>

</body>
</html>